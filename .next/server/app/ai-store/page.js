(()=>{var e={};e.id=189,e.ids=[189],e.modules={2093:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(82614).A)("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]])},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12412:e=>{"use strict";e.exports=require("assert")},15079:(e,t,s)=>{"use strict";s.d(t,{bq:()=>m,eb:()=>h,gC:()=>x,l6:()=>c,yv:()=>p});var a=s(60687),r=s(43210),i=s(28695),n=s(61662),o=s(89743),l=s(58450),d=s(4780);let c=i.bL;i.YJ;let p=i.WT,m=r.forwardRef(({className:e,children:t,...s},r)=>(0,a.jsxs)(i.l9,{ref:r,className:(0,d.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...s,children:[t,(0,a.jsx)(i.In,{asChild:!0,children:(0,a.jsx)(n.A,{className:"h-4 w-4 opacity-50"})})]}));m.displayName=i.l9.displayName;let u=r.forwardRef(({className:e,...t},s)=>(0,a.jsx)(i.PP,{ref:s,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:(0,a.jsx)(o.A,{className:"h-4 w-4"})}));u.displayName=i.PP.displayName;let f=r.forwardRef(({className:e,...t},s)=>(0,a.jsx)(i.wn,{ref:s,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:(0,a.jsx)(n.A,{className:"h-4 w-4"})}));f.displayName=i.wn.displayName;let x=r.forwardRef(({className:e,children:t,position:s="popper",...r},n)=>(0,a.jsx)(i.ZL,{children:(0,a.jsxs)(i.UC,{ref:n,className:(0,d.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===s&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:s,...r,children:[(0,a.jsx)(u,{}),(0,a.jsx)(i.LM,{className:(0,d.cn)("p-1","popper"===s&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),(0,a.jsx)(f,{})]})}));x.displayName=i.UC.displayName,r.forwardRef(({className:e,...t},s)=>(0,a.jsx)(i.JU,{ref:s,className:(0,d.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t})).displayName=i.JU.displayName;let h=r.forwardRef(({className:e,children:t,...s},r)=>(0,a.jsxs)(i.q7,{ref:r,className:(0,d.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...s,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(i.VF,{children:(0,a.jsx)(l.A,{className:"h-4 w-4"})})}),(0,a.jsx)(i.p4,{children:t})]}));h.displayName=i.q7.displayName,r.forwardRef(({className:e,...t},s)=>(0,a.jsx)(i.wv,{ref:s,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",e),...t})).displayName=i.wv.displayName},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},20706:(e,t,s)=>{Promise.resolve().then(s.bind(s,45161))},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},42743:(e,t,s)=>{"use strict";s.d(t,{c:()=>w});var a=s(60687),r=s(43210),i=s(29523),n=s(89667),o=s(44493),l=s(15079),d=s(2093);let c=(0,s(82614).A)("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);var p=s(14283),m=s(41936),u=s(77368),f=s(11516),x=s(26838),h=s(4780),b=s(6475);let g=(0,b.createServerReference)("40f3481f303265bb99bb88571836c32cac5794f7d0",b.callServer,void 0,b.findSourceMapURL,"getAssistants");var v=s(29867);let j={zap:{component:(0,a.jsx)(d.A,{className:"text-green-500"}),bg:"bg-green-100"},box:{component:(0,a.jsx)(c,{className:"text-blue-500"}),bg:"bg-blue-100"},bot:{component:(0,a.jsx)(p.A,{className:"text-pink-500"}),bg:"bg-pink-100"},sky_box:{component:(0,a.jsx)(c,{className:"text-sky-500"}),bg:"bg-sky-100"}},y="ai_store_favorites";function w(){let[e,t]=(0,r.useState)([]),[s,d]=(0,r.useState)(""),[c,b]=(0,r.useState)("all"),[w,N]=(0,r.useState)(!0),[A,S]=(0,r.useState)(null),{toast:k}=(0,v.dj)(),_=async(e=!1)=>{N(!0),S(null);try{let s=await g(e),r=JSON.parse(localStorage.getItem(y)||"[]"),i=s.map(e=>{let t=j[e.icon]||{component:(0,a.jsx)(p.A,{className:"text-gray-500"}),bg:"bg-gray-100"};return{...e,isFavorited:r.includes(e.id),iconComponent:t.component,iconBg:t.bg,addedDate:e.addedDate||new Date().toISOString()}});t(i)}catch(e){S("Failed to load assistants. Please try refreshing."),console.error(e),k({variant:"destructive",title:"Error",description:"Could not fetch assistants from the server."})}finally{N(!1)}},P=s=>{let a=[],r=e.map(e=>e.id===s?{...e,isFavorited:!e.isFavorited}:e);t(r),a=r.filter(e=>e.isFavorited).map(e=>e.id),localStorage.setItem(y,JSON.stringify(a))},q=(0,r.useMemo)(()=>{let t=e.filter(e=>e.name.toLowerCase().includes(s.toLowerCase()));switch(c){case"name-asc":t.sort((e,t)=>e.name.localeCompare(t.name));break;case"name-desc":t.sort((e,t)=>t.name.localeCompare(e.name));break;case"favorites":t=t.filter(e=>e.isFavorited);break;case"recent":t.sort((e,t)=>new Date(t.addedDate).getTime()-new Date(e.addedDate).getTime())}return t},[e,s,c]);return(0,a.jsxs)("div",{className:"h-full flex flex-col p-6 pt-12 bg-background text-foreground",children:[(0,a.jsx)("header",{className:"mb-6",children:(0,a.jsx)("div",{className:"flex justify-between items-center",children:(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold",children:"Welcome to the AI Storefront"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Each Assistant is created to help you do a specific set of tasks. Get answers to your questions, brainstorm ideas, create new content, and more!"})]})})}),(0,a.jsxs)("div",{className:"flex items-center gap-4 mb-6",children:[(0,a.jsxs)(l.l6,{value:c,onValueChange:b,children:[(0,a.jsx)(l.bq,{className:"w-[180px]",children:(0,a.jsx)(l.yv,{placeholder:"Sort"})}),(0,a.jsxs)(l.gC,{children:[(0,a.jsx)(l.eb,{value:"all",children:"All"}),(0,a.jsx)(l.eb,{value:"recent",children:"Recently Added"}),(0,a.jsx)(l.eb,{value:"name-asc",children:"Name A-Z"}),(0,a.jsx)(l.eb,{value:"name-desc",children:"Name Z-A"}),(0,a.jsx)(l.eb,{value:"favorites",children:"Favorites"})]})]}),(0,a.jsxs)("div",{className:"relative flex-1",children:[(0,a.jsx)(m.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,a.jsx)(n.p,{placeholder:"Search using assistant name",className:"pl-10",value:s,onChange:e=>d(e.target.value)})]}),(0,a.jsxs)(i.$,{variant:"ghost",onClick:()=>_(!0),disabled:w,children:[(0,a.jsx)(u.A,{className:(0,h.cn)("mr-2 h-4 w-4",w&&"animate-spin")}),"Refresh"]}),(0,a.jsxs)("span",{className:"text-sm text-muted-foreground",children:[q.length," assistants"]})]}),(0,a.jsx)("div",{className:"flex-1 overflow-y-auto no-scrollbar",children:w?(0,a.jsx)("div",{className:"flex justify-center items-center h-full",children:(0,a.jsx)(f.A,{className:"h-8 w-8 animate-spin"})}):A?(0,a.jsxs)("div",{className:"flex flex-col justify-center items-center h-full text-destructive",children:[(0,a.jsx)("p",{children:A}),(0,a.jsx)(i.$,{variant:"link",onClick:()=>_(!0),children:"Try again"})]}):(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:q.map(e=>(0,a.jsxs)(o.Zp,{className:"flex flex-col hover:shadow-lg transition-shadow",children:[(0,a.jsx)(o.aR,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${e.iconBg}`,children:e.iconComponent}),(0,a.jsx)(o.ZB,{className:"text-sm font-semibold",children:e.name})]}),(0,a.jsx)(i.$,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>P(e.id),children:(0,a.jsx)(x.A,{className:(0,h.cn)("h-4 w-4",e.isFavorited&&"fill-primary text-primary")})})]})}),(0,a.jsx)(o.Wu,{className:"flex-1 p-4 pt-0",children:(0,a.jsx)(o.BT,{className:"text-xs",children:e.description})}),(0,a.jsx)(o.wL,{className:"p-4 pt-0",children:(0,a.jsx)("div",{className:"text-xs bg-gray-100 dark:bg-gray-800 text-muted-foreground rounded-full px-2 py-0.5",children:e.version})})]},e.id))})})]})}},45161:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"S:\\\\Development\\\\BabelPhish\\\\code_base\\\\ai_browser\\\\src\\\\app\\\\ai-store\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"S:\\Development\\BabelPhish\\code_base\\ai_browser\\src\\app\\ai-store\\page.tsx","default")},51959:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>b});var a=s(60687),r=s(43210),i=s(16189),n=s(86083),o=s(77081),l=s(29867),d=s(49048),c=s(18877),p=s(42743),m=s(31728),u=s(67146),f=s(29523),x=s(24343);function h(){let e=(0,i.useRouter)(),[t,s]=(0,r.useState)(!1),{toast:h}=(0,l.dj)(),{state:b,openMobile:g,setOpenMobile:v}=(0,n.cL)(),j=(0,m.a)(),[y,w]=(0,r.useState)(null),[N,A]=(0,r.useState)([]),[S,k]=(0,r.useState)(!0),_=async()=>{let t=localStorage.getItem("session");if(!t)return void e.push("/");let a=JSON.parse(t).email;if(!a)return void e.push("/");s(!0),k(!0);try{let[e,t]=await Promise.all([(0,d.VM)(a),(0,c.F)(a)]);w(e),A(t)}catch(e){console.error("Failed to fetch initial data:",e),h({variant:"destructive",title:"Error",description:"Could not load user data."})}finally{k(!1)}};if(!t||S)return null;let P=()=>(0,a.jsx)(o.G,{user:y,minimizedWidgets:[],favoritedWidgets:[],onRestoreWidget:()=>{},onRestoreFavorite:()=>{},onProfileUpdate:_,workspaces:N,onLoadWorkspace:t=>{e.push("/dashboard"),h({title:`Switching to ${t.workspace_name}...`,description:"Redirecting to dashboard."})},onWorkspaceAction:t=>{e.push("/dashboard"),h({title:"Redirecting to dashboard to manage workspaces."})}});return(0,a.jsxs)("div",{className:"relative flex h-screen w-screen overflow-hidden bg-background",children:[j?(0,a.jsx)(u.cj,{open:g,onOpenChange:v,children:(0,a.jsxs)(u.h,{side:"left",className:"p-0 w-[300px] bg-card/95",children:[(0,a.jsxs)(u.Fm,{children:[(0,a.jsx)(u.qp,{className:"sr-only",children:"Main Menu"}),(0,a.jsx)(u.Qs,{className:"sr-only",children:"Navigate through workspaces, favorites, and settings."})]}),P()]})}):(0,a.jsx)("div",{className:"z-50 h-full",children:(0,a.jsx)(n.Bx,{side:"left",collapsible:"icon",variant:"collapsed"===b?"floating":"sidebar",children:P()})}),(0,a.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden relative transition-all duration-300 ease-in-out",style:{paddingLeft:j?"0px":"expanded"===b?"var(--sidebar-width)":"calc(var(--sidebar-width-icon, 3.5rem))"},children:[(0,a.jsx)("main",{className:"flex-1 overflow-y-auto no-scrollbar",children:(0,a.jsx)(p.c,{})}),j&&(0,a.jsx)("header",{className:"absolute top-0 left-0 right-0 p-2 flex items-center justify-between z-30",style:{height:56},children:(0,a.jsx)(f.$,{variant:"ghost",size:"icon",onClick:()=>v(!0),children:(0,a.jsx)(x.A,{})})})]})]})}let b=()=>(0,a.jsx)(n.GB,{defaultOpen:!0,children:(0,a.jsx)(h,{})})},55210:(e,t,s)=>{Promise.resolve().then(s.bind(s,51959))},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},74075:e=>{"use strict";e.exports=require("zlib")},78522:(e,t,s)=>{"use strict";s.d(t,{s:()=>d});var a=s(91199);s(42087);var r=s(53491),i=s(33331);let n=null,o=()=>{let e=process.env.GET_OPENAI_ASSISTANTS;return e||(console.warn("GET_OPENAI_ASSISTANTS webhook URL is not configured. Assistant fetching will be skipped."),null)},l=()=>[{id:"1",name:"ODIN (Sample)",description:"You are a helpful assistant named ODIN, you are a meta-agent.... (This is sample data)",version:"gpt-4.1",icon:"bot",addedDate:"2023-10-26T10:00:00Z"},{id:"2",name:"Prompt Architect (Sample)",description:"You are a Prompt Architect AI. Your job is to write optimized system prompts...",version:"gpt-4.1",icon:"zap",addedDate:"2023-10-25T10:00:00Z"}];async function d(e=!1){let t=Date.now();if(!e&&n&&t-n.timestamp<3e5)return n.data;let s=o(),a=process.env.BABLEPHISH_ASSISTANT_API_KEY;if(!s)return l();if(!a)return console.warn("BABLEPHISH_ASSISTANT_API_KEY is not configured. Falling back to sample data."),l();try{let e=await r.A.get(s,{headers:{Authorization:`Bearer ${a}`,"OpenAI-Beta":"assistants=v1"}});if(200===e.status&&e.data){let s=Array.isArray(e.data)?e.data:e.data.data;if(Array.isArray(s)){let e=s.map(e=>({id:e.id,name:e.name||"Unnamed Assistant",description:e.instructions||"No description provided.",version:e.model||"N/A",icon:e.tools?.length>0?"zap":"bot",addedDate:e.created_at?new Date(1e3*e.created_at).toISOString():new Date().toISOString()}));return n={timestamp:t,data:e},e}}return console.warn(`Webhook for assistants returned status ${e.status} or invalid data format.`,e.data),l()}catch(e){return r.A.isAxiosError(e)?console.error("Failed to get assistants from webhook:",e.message):console.error("An unexpected error occurred while fetching assistants:",e),l()}}(0,i.D)([d]),(0,a.A)(d,"40f3481f303265bb99bb88571836c32cac5794f7d0",null)},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},83997:e=>{"use strict";e.exports=require("tty")},88069:(e,t,s)=>{"use strict";s.r(t),s.d(t,{"4035bf7dc66fc3a9d08f28f59154642d70276f3542":()=>a.FS,"40dbcc75e845b15f530c7e3366ee6dedb97669c6fa":()=>a.bi,"40edbc1f3fee218fc4073d0393f388fd8d9aa7a8c0":()=>a.xm,"40f3481f303265bb99bb88571836c32cac5794f7d0":()=>r.s,"60e4c4bbddc829bf829a2661eeac207f85091511fd":()=>a.y6});var a=s(60127),r=s(78522)},89163:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>p,pages:()=>c,routeModule:()=>m,tree:()=>d});var a=s(65239),r=s(48088),i=s(88170),n=s.n(i),o=s(30893),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);s.d(t,l);let d={children:["",{children:["ai-store",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,45161)),"S:\\Development\\BabelPhish\\code_base\\ai_browser\\src\\app\\ai-store\\page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,94431)),"S:\\Development\\BabelPhish\\code_base\\ai_browser\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["S:\\Development\\BabelPhish\\code_base\\ai_browser\\src\\app\\ai-store\\page.tsx"],p={require:s,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:r.RouteKind.APP_PAGE,page:"/ai-store/page",pathname:"/ai-store",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},91645:e=>{"use strict";e.exports=require("net")},94735:e=>{"use strict";e.exports=require("events")}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[447,198,280,112,418,508,939,81],()=>s(89163));module.exports=a})();