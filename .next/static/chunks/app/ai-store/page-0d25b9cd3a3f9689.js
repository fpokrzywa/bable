(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[189],{211:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>g});var t=a(5155),l=a(2115),r=a(5695),i=a(31),n=a(5791),d=a(7481),o=a(4744),c=a(5712),m=a(4502),x=a(7906),f=a(8382),h=a(285),u=a(8341);function p(){let e=(0,r.useRouter)(),[s,a]=(0,l.useState)(!1),{toast:p}=(0,d.dj)(),{state:g,openMobile:j,setOpenMobile:v}=(0,i.cL)(),b=(0,x.a)(),[N,y]=(0,l.useState)(null),[w,k]=(0,l.useState)([]),[A,S]=(0,l.useState)(!0),C=async()=>{let s=localStorage.getItem("session");if(!s)return void e.push("/");let t=JSON.parse(s).email;if(!t)return void e.push("/");a(!0),S(!0);try{let[e,s]=await Promise.all([(0,o.VM)(t),(0,c.F)(t)]);y(e),k(s)}catch(e){console.error("Failed to fetch initial data:",e),p({variant:"destructive",title:"Error",description:"Could not load user data."})}finally{S(!1)}};if((0,l.useEffect)(()=>{C()},[e]),!s||A)return null;let R=()=>(0,t.jsx)(n.G,{user:N,minimizedWidgets:[],favoritedWidgets:[],onRestoreWidget:()=>{},onRestoreFavorite:()=>{},onProfileUpdate:C,workspaces:w,onLoadWorkspace:s=>{e.push("/dashboard"),p({title:"Switching to ".concat(s.workspace_name,"..."),description:"Redirecting to dashboard."})},onWorkspaceAction:s=>{e.push("/dashboard"),p({title:"Redirecting to dashboard to manage workspaces."})}});return(0,t.jsxs)("div",{className:"relative flex h-screen w-screen overflow-hidden bg-background",children:[b?(0,t.jsx)(f.cj,{open:j,onOpenChange:v,children:(0,t.jsxs)(f.h,{side:"left",className:"p-0 w-[300px] bg-card/95",children:[(0,t.jsxs)(f.Fm,{children:[(0,t.jsx)(f.qp,{className:"sr-only",children:"Main Menu"}),(0,t.jsx)(f.Qs,{className:"sr-only",children:"Navigate through workspaces, favorites, and settings."})]}),R()]})}):(0,t.jsx)("div",{className:"z-50 h-full",children:(0,t.jsx)(i.Bx,{side:"left",collapsible:"icon",variant:"collapsed"===g?"floating":"sidebar",children:R()})}),(0,t.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden relative transition-all duration-300 ease-in-out",style:{paddingLeft:b?"0px":"expanded"===g?"var(--sidebar-width)":"calc(var(--sidebar-width-icon, 3.5rem))"},children:[(0,t.jsx)("main",{className:"flex-1 overflow-y-auto no-scrollbar",children:(0,t.jsx)(m.c,{})}),b&&(0,t.jsx)("header",{className:"absolute top-0 left-0 right-0 p-2 flex items-center justify-between z-30",style:{height:56},children:(0,t.jsx)(h.$,{variant:"ghost",size:"icon",onClick:()=>v(!0),children:(0,t.jsx)(u.A,{})})})]})]})}let g=()=>(0,t.jsx)(i.GB,{defaultOpen:!0,children:(0,t.jsx)(p,{})})},1603:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(157).A)("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]])},4502:(e,s,a)=>{"use strict";a.d(s,{c:()=>y});var t=a(5155),l=a(2115),r=a(285),i=a(2523),n=a(6695),d=a(9409),o=a(9829),c=a(1603),m=a(3503),x=a(5074),f=a(7554),h=a(172),u=a(8098),p=a(9434),g=a(4477);let j=(0,g.createServerReference)("40f3481f303265bb99bb88571836c32cac5794f7d0",g.callServer,void 0,g.findSourceMapURL,"getAssistants");var v=a(7481);let b={zap:{component:(0,t.jsx)(o.A,{className:"text-green-500"}),bg:"bg-green-100"},box:{component:(0,t.jsx)(c.A,{className:"text-blue-500"}),bg:"bg-blue-100"},bot:{component:(0,t.jsx)(m.A,{className:"text-pink-500"}),bg:"bg-pink-100"},sky_box:{component:(0,t.jsx)(c.A,{className:"text-sky-500"}),bg:"bg-sky-100"}},N="ai_store_favorites";function y(){let[e,s]=(0,l.useState)([]),[a,o]=(0,l.useState)(""),[c,g]=(0,l.useState)("all"),[y,w]=(0,l.useState)(!0),[k,A]=(0,l.useState)(null),{toast:S}=(0,v.dj)(),C=async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];w(!0),A(null);try{let a=await j(e),l=JSON.parse(localStorage.getItem(N)||"[]"),r=a.map(e=>{let s=b[e.icon]||{component:(0,t.jsx)(m.A,{className:"text-gray-500"}),bg:"bg-gray-100"};return{...e,isFavorited:l.includes(e.id),iconComponent:s.component,iconBg:s.bg,addedDate:e.addedDate||new Date().toISOString()}});s(r)}catch(e){A("Failed to load assistants. Please try refreshing."),console.error(e),S({variant:"destructive",title:"Error",description:"Could not fetch assistants from the server."})}finally{w(!1)}};(0,l.useEffect)(()=>{C()},[]);let R=a=>{let t=[],l=e.map(e=>e.id===a?{...e,isFavorited:!e.isFavorited}:e);s(l),t=l.filter(e=>e.isFavorited).map(e=>e.id),localStorage.setItem(N,JSON.stringify(t))},F=(0,l.useMemo)(()=>{let s=e.filter(e=>e.name.toLowerCase().includes(a.toLowerCase()));switch(c){case"name-asc":s.sort((e,s)=>e.name.localeCompare(s.name));break;case"name-desc":s.sort((e,s)=>s.name.localeCompare(e.name));break;case"favorites":s=s.filter(e=>e.isFavorited);break;case"recent":s.sort((e,s)=>new Date(s.addedDate).getTime()-new Date(e.addedDate).getTime())}return s},[e,a,c]);return(0,t.jsxs)("div",{className:"h-full flex flex-col p-6 pt-12 bg-background text-foreground",children:[(0,t.jsx)("header",{className:"mb-6",children:(0,t.jsx)("div",{className:"flex justify-between items-center",children:(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold",children:"Welcome to the AI Storefront"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Each Assistant is created to help you do a specific set of tasks. Get answers to your questions, brainstorm ideas, create new content, and more!"})]})})}),(0,t.jsxs)("div",{className:"flex items-center gap-4 mb-6",children:[(0,t.jsxs)(d.l6,{value:c,onValueChange:g,children:[(0,t.jsx)(d.bq,{className:"w-[180px]",children:(0,t.jsx)(d.yv,{placeholder:"Sort"})}),(0,t.jsxs)(d.gC,{children:[(0,t.jsx)(d.eb,{value:"all",children:"All"}),(0,t.jsx)(d.eb,{value:"recent",children:"Recently Added"}),(0,t.jsx)(d.eb,{value:"name-asc",children:"Name A-Z"}),(0,t.jsx)(d.eb,{value:"name-desc",children:"Name Z-A"}),(0,t.jsx)(d.eb,{value:"favorites",children:"Favorites"})]})]}),(0,t.jsxs)("div",{className:"relative flex-1",children:[(0,t.jsx)(x.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,t.jsx)(i.p,{placeholder:"Search using assistant name",className:"pl-10",value:a,onChange:e=>o(e.target.value)})]}),(0,t.jsxs)(r.$,{variant:"ghost",onClick:()=>C(!0),disabled:y,children:[(0,t.jsx)(f.A,{className:(0,p.cn)("mr-2 h-4 w-4",y&&"animate-spin")}),"Refresh"]}),(0,t.jsxs)("span",{className:"text-sm text-muted-foreground",children:[F.length," assistants"]})]}),(0,t.jsx)("div",{className:"flex-1 overflow-y-auto no-scrollbar",children:y?(0,t.jsx)("div",{className:"flex justify-center items-center h-full",children:(0,t.jsx)(h.A,{className:"h-8 w-8 animate-spin"})}):k?(0,t.jsxs)("div",{className:"flex flex-col justify-center items-center h-full text-destructive",children:[(0,t.jsx)("p",{children:k}),(0,t.jsx)(r.$,{variant:"link",onClick:()=>C(!0),children:"Try again"})]}):(0,t.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:F.map(e=>(0,t.jsxs)(n.Zp,{className:"flex flex-col hover:shadow-lg transition-shadow",children:[(0,t.jsx)(n.aR,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center ".concat(e.iconBg),children:e.iconComponent}),(0,t.jsx)(n.ZB,{className:"text-sm font-semibold",children:e.name})]}),(0,t.jsx)(r.$,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>R(e.id),children:(0,t.jsx)(u.A,{className:(0,p.cn)("h-4 w-4",e.isFavorited&&"fill-primary text-primary")})})]})}),(0,t.jsx)(n.Wu,{className:"flex-1 p-4 pt-0",children:(0,t.jsx)(n.BT,{className:"text-xs",children:e.description})}),(0,t.jsx)(n.wL,{className:"p-4 pt-0",children:(0,t.jsx)("div",{className:"text-xs bg-gray-100 dark:bg-gray-800 text-muted-foreground rounded-full px-2 py-0.5",children:e.version})})]},e.id))})})]})}},4710:(e,s,a)=>{Promise.resolve().then(a.bind(a,211))},9409:(e,s,a)=>{"use strict";a.d(s,{bq:()=>x,eb:()=>p,gC:()=>u,l6:()=>c,yv:()=>m});var t=a(5155),l=a(2115),r=a(3433),i=a(9556),n=a(7381),d=a(518),o=a(9434);let c=r.bL;r.YJ;let m=r.WT,x=l.forwardRef((e,s)=>{let{className:a,children:l,...n}=e;return(0,t.jsxs)(r.l9,{ref:s,className:(0,o.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...n,children:[l,(0,t.jsx)(r.In,{asChild:!0,children:(0,t.jsx)(i.A,{className:"h-4 w-4 opacity-50"})})]})});x.displayName=r.l9.displayName;let f=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(r.PP,{ref:s,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",a),...l,children:(0,t.jsx)(n.A,{className:"h-4 w-4"})})});f.displayName=r.PP.displayName;let h=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(r.wn,{ref:s,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",a),...l,children:(0,t.jsx)(i.A,{className:"h-4 w-4"})})});h.displayName=r.wn.displayName;let u=l.forwardRef((e,s)=>{let{className:a,children:l,position:i="popper",...n}=e;return(0,t.jsx)(r.ZL,{children:(0,t.jsxs)(r.UC,{ref:s,className:(0,o.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===i&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:i,...n,children:[(0,t.jsx)(f,{}),(0,t.jsx)(r.LM,{className:(0,o.cn)("p-1","popper"===i&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:l}),(0,t.jsx)(h,{})]})})});u.displayName=r.UC.displayName,l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(r.JU,{ref:s,className:(0,o.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",a),...l})}).displayName=r.JU.displayName;let p=l.forwardRef((e,s)=>{let{className:a,children:l,...i}=e;return(0,t.jsxs)(r.q7,{ref:s,className:(0,o.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...i,children:[(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(r.VF,{children:(0,t.jsx)(d.A,{className:"h-4 w-4"})})}),(0,t.jsx)(r.p4,{children:l})]})});p.displayName=r.q7.displayName,l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(r.wv,{ref:s,className:(0,o.cn)("-mx-1 my-1 h-px bg-muted",a),...l})}).displayName=r.wv.displayName},9829:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(157).A)("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]])}},e=>{var s=s=>e(e.s=s);e.O(0,[802,977,195,488,366,413,441,684,358],()=>s(4710)),_N_E=e.O()}]);