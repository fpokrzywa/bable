(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[823],{704:(e,a,t)=>{"use strict";t.d(a,{B8:()=>F,UC:()=>S,bL:()=>A,l9:()=>G});var r=t(2115),n=t(5185),i=t(6081),s=t(9196),o=t(8905),l=t(3540),d=t(4315),c=t(5845),u=t(1285),h=t(5155),f="Tabs",[p,v]=(0,i.A)(f,[s.RG]),x=(0,s.RG)(),[b,m]=p(f),y=r.forwardRef((e,a)=>{let{__scopeTabs:t,value:r,onValueChange:n,defaultValue:i,orientation:s="horizontal",dir:o,activationMode:f="automatic",...p}=e,v=(0,d.jH)(o),[x,m]=(0,c.i)({prop:r,onChange:n,defaultProp:i});return(0,h.jsx)(b,{scope:t,baseId:(0,u.B)(),value:x,onValueChange:m,orientation:s,dir:v,activationMode:f,children:(0,h.jsx)(l.sG.div,{dir:v,"data-orientation":s,...p,ref:a})})});y.displayName=f;var g="TabsList",j=r.forwardRef((e,a)=>{let{__scopeTabs:t,loop:r=!0,...n}=e,i=m(g,t),o=x(t);return(0,h.jsx)(s.bL,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:(0,h.jsx)(l.sG.div,{role:"tablist","aria-orientation":i.orientation,...n,ref:a})})});j.displayName=g;var w="TabsTrigger",k=r.forwardRef((e,a)=>{let{__scopeTabs:t,value:r,disabled:i=!1,...o}=e,d=m(w,t),c=x(t),u=R(d.baseId,r),f=M(d.baseId,r),p=r===d.value;return(0,h.jsx)(s.q7,{asChild:!0,...c,focusable:!i,active:p,children:(0,h.jsx)(l.sG.button,{type:"button",role:"tab","aria-selected":p,"aria-controls":f,"data-state":p?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:u,...o,ref:a,onMouseDown:(0,n.m)(e.onMouseDown,e=>{i||0!==e.button||!1!==e.ctrlKey?e.preventDefault():d.onValueChange(r)}),onKeyDown:(0,n.m)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&d.onValueChange(r)}),onFocus:(0,n.m)(e.onFocus,()=>{let e="manual"!==d.activationMode;p||i||!e||d.onValueChange(r)})})})});k.displayName=w;var N="TabsContent",C=r.forwardRef((e,a)=>{let{__scopeTabs:t,value:n,forceMount:i,children:s,...d}=e,c=m(N,t),u=R(c.baseId,n),f=M(c.baseId,n),p=n===c.value,v=r.useRef(p);return r.useEffect(()=>{let e=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,h.jsx)(o.C,{present:i||p,children:t=>{let{present:r}=t;return(0,h.jsx)(l.sG.div,{"data-state":p?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":u,hidden:!r,id:f,tabIndex:0,...d,ref:a,style:{...e.style,animationDuration:v.current?"0s":void 0},children:r&&s})}})});function R(e,a){return"".concat(e,"-trigger-").concat(a)}function M(e,a){return"".concat(e,"-content-").concat(a)}C.displayName=N;var A=y,F=j,G=k,S=C},1328:(e,a,t)=>{Promise.resolve().then(t.bind(t,8189))},5943:(e,a,t)=>{"use strict";t.d(a,{A:()=>r});let r=(0,t(157).A)("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]])},7223:(e,a,t)=>{"use strict";t.d(a,{A:()=>r});let r=(0,t(157).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},8189:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>b});var r=t(5155),n=t(2115),i=t(5695),s=t(31),o=t(5791),l=t(7481),d=t(4744),c=t(5712),u=t(4472),h=t(7906),f=t(8382),p=t(285),v=t(8341);function x(){let e=(0,i.useRouter)(),[a,t]=(0,n.useState)(!1),{toast:x}=(0,l.dj)(),{state:b,openMobile:m,setOpenMobile:y}=(0,s.cL)(),g=(0,h.a)(),[j,w]=(0,n.useState)(null),[k,N]=(0,n.useState)([]),[C,R]=(0,n.useState)(!0),M=async()=>{let a=localStorage.getItem("session");if(!a)return void e.push("/");let r=JSON.parse(a).email;if(!r)return void e.push("/");t(!0),R(!0);try{let[e,a]=await Promise.all([(0,d.VM)(r),(0,c.F)(r)]);w(e),N(a)}catch(e){console.error("Failed to fetch initial data:",e),x({variant:"destructive",title:"Error",description:"Could not load user data."})}finally{R(!1)}};if((0,n.useEffect)(()=>{M()},[e]),!a||C)return null;let A=()=>(0,r.jsx)(o.G,{user:j,minimizedWidgets:[],favoritedWidgets:[],onRestoreWidget:()=>{},onRestoreFavorite:()=>{},onProfileUpdate:M,workspaces:k,onLoadWorkspace:a=>{e.push("/dashboard"),x({title:"Switching to ".concat(a.workspace_name,"..."),description:"Redirecting to dashboard."})},onWorkspaceAction:a=>{e.push("/dashboard"),x({title:"Redirecting to dashboard to manage workspaces."})}});return(0,r.jsxs)("div",{className:"relative flex h-screen w-screen overflow-hidden bg-background",children:[g?(0,r.jsx)(f.cj,{open:m,onOpenChange:y,children:(0,r.jsxs)(f.h,{side:"left",className:"p-0 w-[300px] bg-card/95",children:[(0,r.jsxs)(f.Fm,{children:[(0,r.jsx)(f.qp,{className:"sr-only",children:"Main Menu"}),(0,r.jsx)(f.Qs,{className:"sr-only",children:"Navigate through workspaces, favorites, and settings."})]}),A()]})}):(0,r.jsx)("div",{className:"z-50 h-full",children:(0,r.jsx)(s.Bx,{side:"left",collapsible:"icon",variant:"collapsed"===b?"floating":"sidebar",children:A()})}),(0,r.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden relative transition-all duration-300 ease-in-out",style:{paddingLeft:g?"0px":"expanded"===b?"var(--sidebar-width)":"calc(var(--sidebar-width-icon, 3.5rem))"},children:[(0,r.jsx)("main",{className:"flex-1 overflow-y-auto no-scrollbar",children:(0,r.jsx)(u.S,{})}),g&&(0,r.jsx)("header",{className:"absolute top-0 left-0 right-0 p-2 flex items-center justify-between z-30",style:{height:56},children:(0,r.jsx)(p.$,{variant:"ghost",size:"icon",onClick:()=>y(!0),children:(0,r.jsx)(v.A,{})})})]})]})}let b=()=>(0,r.jsx)(s.GB,{defaultOpen:!0,children:(0,r.jsx)(x,{})})}},e=>{var a=a=>e(e.s=a);e.O(0,[802,977,195,488,366,413,91,441,684,358],()=>a(1328)),_N_E=e.O()}]);