(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[662],{333:(e,s,t)=>{"use strict";t.d(s,{d:()=>l});var a=t(5155),i=t(2115),n=t(4884),r=t(9434);let l=i.forwardRef((e,s)=>{let{className:t,...i}=e;return(0,a.jsx)(n.bL,{className:(0,r.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...i,ref:s,children:(0,a.jsx)(n.zi,{className:(0,r.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});l.displayName=n.bL.displayName},968:(e,s,t)=>{"use strict";t.d(s,{b:()=>l});var a=t(2115),i=t(3540),n=t(5155),r=a.forwardRef((e,s)=>(0,n.jsx)(i.sG.label,{...e,ref:s,onMouseDown:s=>{var t;s.target.closest("button, input, select, textarea")||(null==(t=e.onMouseDown)||t.call(e,s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));r.displayName="Label";var l=r},1909:(e,s,t)=>{Promise.resolve().then(t.bind(t,2608))},1995:(e,s,t)=>{"use strict";t.d(s,{w:()=>u});var a=t(5155),i=t(2115),n=t(285),r=t(6695),l=t(5057),c=t(2346),o=t(333),d=t(9434);function u(e){let{isPage:s=!1}=e,[t,u]=(0,i.useState)(!1),[h,f]=(0,i.useState)(!0),[p,x]=(0,i.useState)(!1),m=()=>{console.log("Saving settings:",{darkMode:t,emailNotifications:h,pushNotifications:p})};return(0,a.jsxs)("div",{className:(0,d.cn)(!s&&"flex flex-col h-full"),children:[(0,a.jsxs)("div",{className:(0,d.cn)(!s&&"flex-grow space-y-6 pb-6"),children:[s&&(0,a.jsx)(()=>(0,a.jsxs)(r.aR,{children:[(0,a.jsx)(r.ZB,{children:"Settings"}),(0,a.jsx)(r.BT,{children:"Manage your account settings and set e-mail preferences."})]}),{}),(0,a.jsxs)(r.Zp,{children:[(0,a.jsxs)(r.aR,{children:[(0,a.jsx)(r.ZB,{children:"Display"}),(0,a.jsx)(r.BT,{children:"Manage your display and theme settings."})]}),(0,a.jsx)(r.Wu,{className:"space-y-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:(0,d.cn)("transition-opacity",!t&&"opacity-50"),children:[(0,a.jsx)(l.J,{htmlFor:"dark-mode",children:"Dark Mode"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Enable dark theme for the application."})]}),(0,a.jsx)(o.d,{id:"dark-mode",checked:t,onCheckedChange:u,className:(0,d.cn)("transition-opacity",!t&&"opacity-50")})]})})]}),(0,a.jsxs)(r.Zp,{children:[(0,a.jsxs)(r.aR,{children:[(0,a.jsx)(r.ZB,{children:"Notifications"}),(0,a.jsx)(r.BT,{children:"Manage how you receive notifications."})]}),(0,a.jsxs)(r.Wu,{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:(0,d.cn)("transition-opacity",!h&&"opacity-50"),children:[(0,a.jsx)(l.J,{htmlFor:"email-notifications",children:"Email Notifications"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Receive notifications about your account via email."})]}),(0,a.jsx)(o.d,{id:"email-notifications",checked:h,onCheckedChange:f,className:(0,d.cn)("transition-opacity",!h&&"opacity-50")})]}),(0,a.jsx)(c.w,{}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:(0,d.cn)("transition-opacity",!p&&"opacity-50"),children:[(0,a.jsx)(l.J,{htmlFor:"push-notifications",children:"Push Notifications"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Receive push notifications on your devices."})]}),(0,a.jsx)(o.d,{id:"push-notifications",checked:p,onCheckedChange:x,className:(0,d.cn)("transition-opacity",!p&&"opacity-50")})]})]})]})]}),!s&&(0,a.jsxs)("div",{className:"flex-shrink-0 flex justify-end gap-2 pt-4 border-t",children:[(0,a.jsx)(n.$,{variant:"outline",children:"Cancel"}),(0,a.jsx)(n.$,{onClick:m,children:"Save Changes"})]}),s&&(0,a.jsx)("div",{className:"flex justify-end mt-6",children:(0,a.jsx)(n.$,{onClick:m,children:"Save Changes"})})]})}},2608:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>v});var a=t(5155),i=t(2115),n=t(5695),r=t(31),l=t(5791),c=t(7481),o=t(4744),d=t(5712),u=t(1995),h=t(7906),f=t(8382),p=t(285),x=t(8341),m=t(8856);function j(){let e=(0,n.useRouter)(),[s,t]=(0,i.useState)(!1),{toast:j}=(0,c.dj)(),{state:v,openMobile:b,setOpenMobile:g}=(0,r.cL)(),y=(0,h.a)(),[N,w]=(0,i.useState)(null),[k,C]=(0,i.useState)([]),[S,R]=(0,i.useState)(!0),E=()=>{let s=localStorage.getItem("session");if(!s)return void e.push("/");let a=JSON.parse(s).email;if(!a)return void e.push("/");t(!0);let i=(0,o.Ob)();if(i.user&&i.workspaces.length>=0){w(i.user),C(i.workspaces),R(!1);return}M(a)},M=async e=>{R(!0);try{let[s,t]=await Promise.all([(0,o.VM)(e),(0,d.F)(e)]);w(s),C(t)}catch(e){console.error("Failed to fetch initial data:",e),j({variant:"destructive",title:"Error",description:"Could not load user data."})}finally{R(!1)}};if((0,i.useEffect)(()=>{E()},[e]),!s)return null;let P=()=>(0,a.jsx)(l.G,{user:N,minimizedWidgets:[],favoritedWidgets:[],onRestoreWidget:()=>{},onRestoreFavorite:()=>{},onProfileUpdate:()=>{let e=JSON.parse(localStorage.getItem("session")||"{}").email;e&&M(e)},workspaces:k,onLoadWorkspace:s=>{e.push("/dashboard"),j({title:"Switching to ".concat(s.workspace_name,"..."),description:"Redirecting to dashboard."})},onWorkspaceAction:s=>{e.push("/dashboard"),j({title:"Redirecting to dashboard to manage workspaces."})}});return S?(0,a.jsx)(()=>(0,a.jsxs)("div",{className:"flex h-screen w-screen items-center justify-center",children:[(0,a.jsx)(m.E,{className:"h-full w-16"}),(0,a.jsxs)("div",{className:"flex-1 p-8",children:[(0,a.jsx)(m.E,{className:"h-8 w-1/4 mb-4"}),(0,a.jsx)(m.E,{className:"h-4 w-1/2 mb-8"}),(0,a.jsx)(m.E,{className:"h-64 w-full"})]})]}),{}):(0,a.jsxs)("div",{className:"relative flex h-screen w-screen overflow-hidden bg-background",children:[y?(0,a.jsx)(f.cj,{open:b,onOpenChange:g,children:(0,a.jsxs)(f.h,{side:"left",className:"p-0 w-[300px] bg-card/95",children:[(0,a.jsxs)(f.Fm,{children:[(0,a.jsx)(f.qp,{className:"sr-only",children:"Main Menu"}),(0,a.jsx)(f.Qs,{className:"sr-only",children:"Navigate through workspaces, favorites, and settings."})]}),P()]})}):(0,a.jsx)("div",{className:"z-50 h-full",children:(0,a.jsx)(r.Bx,{side:"left",collapsible:"icon",variant:"collapsed"===v?"floating":"sidebar",children:P()})}),(0,a.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden relative transition-all duration-300 ease-in-out",style:{paddingLeft:y?"0px":"expanded"===v?"var(--sidebar-width)":"calc(var(--sidebar-width-icon, 3.5rem))"},children:[(0,a.jsx)("main",{className:"flex-1 overflow-y-auto no-scrollbar pt-[calc(5vh)]",children:(0,a.jsx)("div",{className:"max-w-4xl mx-auto px-6",children:(0,a.jsx)(u.w,{isPage:!0})})}),y&&(0,a.jsx)("header",{className:"absolute top-0 left-0 right-0 p-2 flex items-center justify-between z-30",style:{height:56},children:(0,a.jsx)(p.$,{variant:"ghost",size:"icon",onClick:()=>g(!0),children:(0,a.jsx)(x.A,{})})})]})]})}let v=()=>(0,a.jsx)(r.GB,{defaultOpen:!0,children:(0,a.jsx)(j,{})})},4884:(e,s,t)=>{"use strict";t.d(s,{bL:()=>N,zi:()=>w});var a=t(2115),i=t(5185),n=t(6101),r=t(6081),l=t(5845),c=t(5503),o=t(1275),d=t(3540),u=t(5155),h="Switch",[f,p]=(0,r.A)(h),[x,m]=f(h),j=a.forwardRef((e,s)=>{let{__scopeSwitch:t,name:r,checked:c,defaultChecked:o,required:h,disabled:f,value:p="on",onCheckedChange:m,form:j,...v}=e,[b,N]=a.useState(null),w=(0,n.s)(s,e=>N(e)),k=a.useRef(!1),C=!b||j||!!b.closest("form"),[S=!1,R]=(0,l.i)({prop:c,defaultProp:o,onChange:m});return(0,u.jsxs)(x,{scope:t,checked:S,disabled:f,children:[(0,u.jsx)(d.sG.button,{type:"button",role:"switch","aria-checked":S,"aria-required":h,"data-state":y(S),"data-disabled":f?"":void 0,disabled:f,value:p,...v,ref:w,onClick:(0,i.m)(e.onClick,e=>{R(e=>!e),C&&(k.current=e.isPropagationStopped(),k.current||e.stopPropagation())})}),C&&(0,u.jsx)(g,{control:b,bubbles:!k.current,name:r,value:p,checked:S,required:h,disabled:f,form:j,style:{transform:"translateX(-100%)"}})]})});j.displayName=h;var v="SwitchThumb",b=a.forwardRef((e,s)=>{let{__scopeSwitch:t,...a}=e,i=m(v,t);return(0,u.jsx)(d.sG.span,{"data-state":y(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:s})});b.displayName=v;var g=e=>{let{control:s,checked:t,bubbles:i=!0,...n}=e,r=a.useRef(null),l=(0,c.Z)(t),d=(0,o.X)(s);return a.useEffect(()=>{let e=r.current,s=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(l!==t&&s){let a=new Event("click",{bubbles:i});s.call(e,t),e.dispatchEvent(a)}},[l,t,i]),(0,u.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:t,...n,tabIndex:-1,ref:r,style:{...e.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function y(e){return e?"checked":"unchecked"}var N=j,w=b},5057:(e,s,t)=>{"use strict";t.d(s,{J:()=>o});var a=t(5155),i=t(2115),n=t(968),r=t(2085),l=t(9434);let c=(0,r.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=i.forwardRef((e,s)=>{let{className:t,...i}=e;return(0,a.jsx)(n.b,{ref:s,className:(0,l.cn)(c(),t),...i})});o.displayName=n.b.displayName},5503:(e,s,t)=>{"use strict";t.d(s,{Z:()=>i});var a=t(2115);function i(e){let s=a.useRef({value:e,previous:e});return a.useMemo(()=>(s.current.value!==e&&(s.current.previous=s.current.value,s.current.value=e),s.current.previous),[e])}}},e=>{var s=s=>e(e.s=s);e.O(0,[802,977,195,488,413,441,684,358],()=>s(1909)),_N_E=e.O()}]);